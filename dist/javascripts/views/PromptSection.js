define(["backbone","underscore","models/Level","scrollTo","collections/Levels","routers/Router"],function(e){return PromptSection=Backbone.View.extend({el:"#sugarPrompt",template:_.template("<%= checkTime %>"),initialize:function(){_.bindAll(this,"addOne","setSelect"),this.$input=$("#mySugarLevelInput"),this.$select=$("#checkTimeSelect"),this.listenTo(this.collection,"add",this.animatePrompt),this.render()},events:{"click #commitLevel":"addOne","click .dropdown-menu li":"setSelect"},addOne:function(){theNewLevel=this.model.set({amnt:this.$input.val(),checkTime:this.$select.html()}),this.collection.add(theNewLevel),this.model=new Level},animatePrompt:function(){$(document).scrollTo("#result",500)},setSelect:function(e){e.preventDefault(),console.log(e),timeValue=e.target.title,console.log(timeValue),this.$select.html(timeValue)},render:function(){return this.$select.append(this.template(this.model.toJSON())),this}}),new PromptSection({model:new Level,collection:Router.Levels})});